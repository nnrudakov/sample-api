# README #

## Общие сведения ###

Тесты должны содержать только необходимые действия. Не нужно, например, в каждом тесте выполнять авторизацию
пользователей, когда её можно обобщить в отдельном классе. Весь общий функционал необходимо выносить в соответствии с
потребностями проекта и документацией [Codeception](http://codeception.com/docs/).

Общие [конфигурации](http://codeception.com/docs/02-GettingStarted#Configuration) тестов в содержатся файлах
`*.dist.yml`. Конфигурации тестов отдельно для каждого разработчика должны содержатся в файлах `*.yml`, которые должны
быть исключены из общего репозитория проекта. Разработчик должен переопределить в соответствии со своим программным
окружением настройки модулей [PhpBrowser](https://codeception.com/docs/modules/PhpBrowser) и
[Db](http://codeception.com/docs/modules/Db).

Команда запуска тестов:

```
vendor/bin/codecept run
```
 
## Покрытие тестами ##

Покрытие тестами включено в файле `codeception.yml`. Команда для запуска сбора покрытия кода:

```
#сборка во всех тестах
vendor/bin/codecept run --coverage --coverage-html

#сборка только для unit тестов
vendor/bin/codecept run unit --coverage-html

#сборка для unit и functional тестов
vendor/bin/codecept run functional,unit --coverage-html
```

Результат сборки в директории `tests/_output`.

## Наследование ##

### Модульные тесты ###

Тесты должны быть наследованы от базового абстрактного класса [BaseUnit](unit/BaseUnit.php).

### Функциональные тесты ###

Тесты должны быть наследованы от базового абстрактного класса [BaseCest](functional/BaseCest.php). Данный класс
осуществляет вход в систему с помощью функционального тестера `Step\Functional\Login`, используя `Step\LoginTrait`. Для
входа в систему по умолчанию для всех тестов используются авторизационные данные пользователя `nnrudakov@gmail.com`. Т.о. все
тесты могут быть написаны как будто пользователь уже авторизован.
